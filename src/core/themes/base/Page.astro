---
import { render } from "astro:content";

const { post, lang } = Astro.props;

// 渲染 Markdown
// 在没有内容时，Astro 的类型定义会导致 render 接收 never 类型，导致 TS 报错。
// 这个忽略只在编译检查时生效，不影响运行时。
// @ts-ignore
const { Content } = await render(post.original);
---

<article class="page-container">
  <header class="page-header">
    <h1 class="page-title">{post.data.title}</h1>

    {/* Page 也可能有封面图 */}
    {post.data.cover?.src && (
      <div class="page-cover">
        <img
          src={post.data.cover.src}
          alt={post.data.cover.alt || post.data.title}
        />
      </div>
    )}
  </header>

  <div class="page-content typography">
    <Content />
  </div>
</article>

<style>
  .page-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 3rem 1rem;
  }

  .page-header {
    text-align: center;
    margin-bottom: 3rem;
  }

  .page-title {
    font-size: 2.8rem;
    font-weight: 800;
    margin-bottom: 2rem;
  }

  .page-cover img {
    width: 100%;
    border-radius: 12px;
  }

  .page-content {
    line-height: 1.8;
    font-size: 1.1rem;
  }

  /* 复用全局样式或独立定义 */
  .page-content :global(h2) { margin-top: 2rem; }
  .page-content :global(p) { margin-bottom: 1.5rem; }
</style>
