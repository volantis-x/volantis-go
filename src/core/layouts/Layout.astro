---
// import { getGlobalConfig } from "@/core/bootstrap/store";
import Head from "../layouts/Head.astro";
// import type { Frontmatter } from "@/core/types/page";
import { getLanguageDirection, getCurrentLang, __t } from "@/core/i18n";

const currentLang = Astro.props.lang || getCurrentLang(Astro.url);
// const i18nConfig = getGlobalConfig("i18n")!.I18N;

const {
  title = __t("ui.title", currentLang),
  description = __t("ui.description", currentLang),
  author = __t("ui.author", currentLang),
  image,
  cover,
  pageType = "website",
  cleanPath = "", // 默认为空 (首页)
} = Astro.props;

const textDirection = getLanguageDirection(currentLang);
---

<!doctype html>
<html lang={currentLang} dir={textDirection}>
  <Head
    title={title}
    description={description}
    author={author}
    image={image}
    cover={cover}
    pageType={pageType}
    cleanPath={cleanPath}
  />

  <slot />
</html>
