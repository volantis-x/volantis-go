---
import Layout from "../core/layouts/Layout.astro";
import { getSupportedLocales, getDefaultLocale, __t } from "../core/i18n";
import type { LocaleConfig } from "../core/types/i18n";

export async function getStaticPaths() {
  const locales = getSupportedLocales();
  const defaultLoc = getDefaultLocale();

  return locales.map((loc: LocaleConfig) => {
    return {
      params: {
        // TODO: 这里后续需要看看要不要判断默认语言是否有 path
        language: loc.code === defaultLoc.code ? undefined : loc.path,
      },
      props: {
        currentLang: loc.code,
      },
    };
  });
}

const { currentLang } = Astro.props;
---

<Layout
  title={__t("home_title", currentLang)}
  description={__t("description", currentLang)}
>
  404
</Layout>
