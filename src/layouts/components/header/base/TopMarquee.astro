---
import { TOP_MARQUEE } from "@userConfig/header.config";

const marqueeStyle = {
  '--top-marquee-scroll-duration': TOP_MARQUEE.SCROLL_DURATION
};

const marqueeMove =
  TOP_MARQUEE.DIRECTION === "left" ? "marquee-move-left" : "marquee-move-right";
---

<div class="top-marquee" style={marqueeStyle}>
  <div class="top-marquee__wrapper">
    {
      [...Array(16)].map((_, _index) => (
        <div class:list={[marqueeMove]}>
          {TOP_MARQUEE?.DEFAULT_PRIMARY_CONTENT && (
            <strong>{TOP_MARQUEE.DEFAULT_PRIMARY_CONTENT}</strong>
          )}
          {TOP_MARQUEE?.DEFAULT_SECONDARY_CONTENT && (
            <span>{TOP_MARQUEE.DEFAULT_SECONDARY_CONTENT}</span>
          )}
        </div>
      ))
    }
  </div>
</div>

<style>
  @keyframes marquee_move_left {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-100%);
    }
  }
  @keyframes marquee_move_right {
    0% {
      transform: translateX(-100%);
    }
    100% {
      transform: translateX(0);
    }
  }
  .top-marquee {
    position: relative;
    width: 100%;
    height: 3.125rem;
    align-items: center;
    white-space: nowrap;
    overflow: hidden;
    filter: brightness(95%);
  }
  .top-marquee__wrapper {
    display: flex;
    align-items: center;
    height: 100%;
  }
  strong,
  span {
    padding: 0 1rem;
    font-size: 0.9rem;
  }
  .marquee-move-left,
  .marquee-move-right {
    display: inline-flex;
    align-items: center;
    will-change: transform;
  }
  .marquee-move-left {
    animation: marquee_move_left var(--top-marquee-scroll-duration) linear infinite;
  }
  .marquee-move-right {
    animation: marquee_move_right var(--top-marquee-scroll-duration) linear infinite;
  }
</style>
