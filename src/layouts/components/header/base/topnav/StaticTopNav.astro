---
import { TOP_NAV } from "@/config/header.config";
import { normalizeContentLayout } from "@/lib/header";
import OneColumnsLayout from "./layouts/OneColumnsLayout.astro";
import TwoColumnsLayout from "./layouts/TwoColumnsLayout.astro";
import ThreeColumnsLayout from "./layouts/ThreeColumnsLayout.astro";

const navLayout = normalizeContentLayout(TOP_NAV.contentLayout);
const navClass = TOP_NAV.containerLayout === "centered" ? "nav-centered" : "";
---

<nav class:list={[navClass]}>
  {
    {
      one: <OneColumnsLayout />,
      two: <TwoColumnsLayout />,
      three: <ThreeColumnsLayout />,
    }[navLayout] || <TwoColumnsLayout />
  }
</nav>

<style>
  .nav-centered {
    max-width: var(--content-max-width);
    margin: 0 auto;
  }
</style>
