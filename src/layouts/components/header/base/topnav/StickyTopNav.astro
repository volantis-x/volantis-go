---
import { TOP_NAV } from "@/content/header.config";
import { normalizeContentLayout } from "@/lib/header";
import TwoColumnsLayout from "./TwoColumnsLayout.astro";
import ThreeColumnsLayout from "./ThreeColumnsLayout.astro";

const navLayout = normalizeContentLayout(TOP_NAV.contentLayout);
const navClass = TOP_NAV.containerLayout === "centered" ? "nav-centered" : "";
---

<nav class:list={[navClass]}>
  {
    {
      twoColumns: <TwoColumnsLayout />,
      threeColumns: <ThreeColumnsLayout />,
    }[navLayout] || <TwoColumnsLayout />
  }
</nav>

<style>
  nav {
    position: sticky;
    top: 0;
  }
  .nav-centered {
    max-width: var(--content-max-width);
    margin: 0 auto;
  }
</style>
